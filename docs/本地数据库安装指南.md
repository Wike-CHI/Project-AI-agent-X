# 本地数据库安装指南 (Windows)

本项目支持两种方式运行数据库：
1. **本地安装** (推荐Windows用户) - 直接安装到本地
2. **Docker** - 使用容器运行 (需要Docker Desktop)

---

## 方式一：本地安装 (推荐)

### 1. 安装 Qdrant (向量数据库)

#### 方法A：直接下载 exe (推荐)
```bash
# 访问 https://github.com/qdrant/qdrant/releases
# 下载 qdrant-x86_64-pc-windows-msvc.zip
# 解压到 C:\qdrant
# 运行: C:\qdrant\qdrant.exe
```

#### 方法B：使用 winget
```bash
winget install qdrant.qdrant
```

#### 验证安装
访问: http://localhost:6333/dashboard

---

### 2. 安装 Neo4j (图数据库)

#### 下载 Neo4j Desktop
```bash
# 访问 https://neo4j.com/download/
# 下载 Neo4j Desktop for Windows
# 安装并启动
```

#### 创建本地数据库
1. 打开 Neo4j Desktop
2. 点击 "New Project"
3. 点击 "Create a local database"
4. 设置密码: `neo4j_password`
5. 点击 "Start"

#### 验证安装
访问: http://localhost:7474
用户名: `neo4j`
密码: `neo4j_password`

---

## 方式二：使用 Docker (需要WSL2)

如果已安装 Docker Desktop:

```bash
cd backend
docker-compose up -d
```

---

## 配置环境变量

编辑 `backend/.env` 文件：

```env
# Qdrant 配置
QDRANT_URL=http://localhost:6333

# Neo4j 配置
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j_password  # 你设置的密码
```

---

## 验证服务状态

启动后端服务后，访问:
- http://localhost:8000/health

如果看到 `{"status":"healthy"}`，说明服务正常。

---

## 故障排除

### Qdrant 启动失败
- 检查端口 6333 是否被占用
- 尝试重启服务

### Neo4j 连接失败
- 检查数据库是否已启动
- 验证用户名密码是否正确
- 确保 Neo4j Browser 可访问
